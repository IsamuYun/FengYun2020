#include <ansi.h>inherit SKILL;mapping *action = ({([  "action":"$N使一式「"+MAG+"万事随缘往"+NOR+"」，手中$w嗡嗡微振，幻成一条疾光刺向$n的$l",    "force" : 120,    "lvl" : 0,    "skill_name" : MAG "万事随缘往" NOR,    "damage_type":  "刺伤"]),([  "action":"$N错步上前，使出「"+HIB+"来去若梦行"+NOR+"」，剑意若有若无，$w淡淡地向$n的$l挥去",    "force" : 140,    "lvl" : 9,    "skill_name" : HIB "来去若梦行" NOR,    "damage_type":  "割伤"]),([  "action":"$N一式「"+HIG+"浮世沧桑远"+NOR+"」，纵身飘开数尺，运发剑气，手中$w遥摇指向$n的$l",    "force" : 160,    "lvl" : 18,    "skill_name" : HIG "浮世沧桑远" NOR,    "damage_type":  "割伤"]),([  "action":"$N纵身轻轻跃起，一式「"+WHT+"轮回法舟轻"+NOR+"」，剑光如轮疾转，霍霍斩向$n的$l",    "force" : 180,    "lvl" : 27,    "skill_name" : WHT "轮回法舟轻" NOR,    "damage_type":  "割伤"]),([  "action":"$N手中$w中宫直进，一式「"+RED+"水月通禅寂"+NOR+"」，无声无息地对准$n的$l刺出一剑",    "force" : 220,    "lvl" : 36,    "skill_name" : RED "水月通禅寂" NOR,    "damage_type":  "刺伤"]),([  "action":"$N手中$w斜指苍天，剑芒吞吐，一式「"+MAG+"鱼龙听梵音"+NOR+"」，对准$n的$l斜斜击出",    "force" : 260,    "lvl" : 44,    "skill_name" : MAG "鱼龙听梵音" NOR,    "damage_type":  "刺伤"]),([  "action":"$N左指凌空虚点，右手$w逼出丈许雪亮剑芒，一式「"+HIR+"千里一苇去"+NOR+"」刺向$n的$l",    "force" : 320,    "lvl" : 52,    "skill_name" : HIR "千里一苇去" NOR,    "damage_type":  "刺伤"]),([  "action":"$N合掌跌坐，一式「"+YEL+"禅心顿自明"+NOR+"」，$w自怀中跃出，如疾电般射向$n的胸口",    "force" : 380,    "lvl" : 60,    "skill_name" : YEL "禅心顿自明" NOR,    "damage_type":  "刺伤"]),});int valid_learn(object me){        object ob;        if( (int)me->query("max_force") < 1500 )
                return notify_fail("你的内力不够，没有办法达摩剑法。\n");             if(me->query("family/family_name") != "少林寺")                return notify_fail("你不是少林弟子不能学习达摩剑法！\n");        if( !(ob = me->query_temp("weapon"))        ||      (string)ob->query("skill_type") != "sword" )                return notify_fail("你必须先找一把剑才能练剑法。\n");        return 1;}int valid_enable(string usage){        return usage=="sword";
}mapping query_action(object me, object weapon){        return action[random(sizeof(action))];}int practice_skill(object me){        return notify_fail("达摩剑法只能在战斗中提高。\n");
}string perform_action_file(string action){        return CLASS_D("shaolin") + "/damo-sword/" + action;} int effective_level() { return 25;}string *parry_msg = ({        "$n随风轻轻飘落，手中$v平指，缓缓拍向$N脸颊，\n",        "$n随意挥洒， 轻而易举的架住了$N的$w。\n",        "$n深吸一口气，手中的$v化作千百剑芒，护住了全身。\n",        "$n手中的$v急剧抖动，封住了$N的所有攻势。\n",});string *unarmed_parry_msg = ({});string query_parry_msg(object weapon){        if( weapon )                return parry_msg[random(sizeof(parry_msg))];}int learn_bonus(){        return 100;}int practice_bonus(){        return 150;}int black_white_ness(){        return 50;}
